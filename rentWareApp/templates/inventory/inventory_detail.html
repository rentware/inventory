{% extends 'base/base.html' %}

{% block content %}

{% load staticfiles %}

<link rel="stylesheet" href="{% static 'css/base.css' %}"></link>

<div class="container">

  <div class="row" >
    <div class="col-sm-1"></div>

  <h2>inventory: {{inventory}} {{inventory.inventorytype}}</h2>

  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link active" href="#">Guests</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_contractors' pk=inventory.pk %}">Contractors</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Employees</a>
    </li>
    <li class="nav-item">
      <a class="nav-link disabled" href="#">Administration</a>
    </li>
  </ul>

  <div class="container">
    <div class="row">
      <div class="column">

        <p>
          <a href="{% url 'guest_new' est_pk=inventory.pk %}" class="btn btn-primary">Add Guest</a>
        </p>

        <form class="navbar-form" role="search">
          <div class="input-group add-on">
            <input class="form-control" placeholder="Search" name="srch-term" id="srch-term" type="text">
            <div class="input-group-btn">
              <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
          </div>
        </form>

          <table class="table table-condensed table-bordered">
          <thead>
            <tr>
              <th>Guests</th>
            </tr>
          </thead>
          <tbody>
            {% for guest in guests%}
            <tr>
              <td>
              <table class="table-condensed" border="1">
                  <tr>
                    {% if guest.flagstatus %}
                    <td style="width:5%"><span class="glyphicon glyphicon-remove"></td>
                    {% else %}
                    <td style="width:5%"><span class="glyphicon glyphicon-ok"></td>
                    {% endif %}
                    <td style="width:50%">{{guest.firstname}}  {{guest.surname}} </td>
                    <td style="width:5%"><a href="{% url 'guest_flag' pk=guest.pk est_pk=inventory.pk %}"<button type="button" class="btn btn-danger btn-xs">flag</button></a></td>
                    <td style="width:5%"><a href="{% url 'guest_edit' pk=guest.pk est_pk=inventory.pk %}" class="btn btn-success btn-xs" role="button">edit</a></td>
                  </tr>
                </table>
              </tr>
              </td>
            {% endfor %}
          </tbody>
        </table>

        <div class="pagination">
            <span class="step-links">
                {% if guests.has_previous %}
                    <a href="?page={{ guests.previous_page_number }}">previous</a>
                {% endif %}

                <span class="current">
                    Page {{ guests.number }} of {{ guests.paginator.num_pages }}.
                </span>

                {% if guests.has_next %}
                    <a href="?page={{ guests.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
        </div>


      </div>
    </div>
  </div>

{% endblock %}
