{% extends 'base/base.html' %}

{% block content %}

{% load staticfiles %}

<link rel="stylesheet" href="{% static 'css/base.css' %}"></link>

<style>
    .nav-pills > li.active > a, .nav-pills > li.active > a:focus {
        color: black;
        background-color: #fcd900;
    }

        .nav-pills > li.active > a:hover {
            background-color: #efcb00;
            color:black;
        }
</style>

<div class="container">

  <div class="row" >
    <div class="col-sm-1"></div>

<h2>inventory: {{inventory.show_name}} {{inventory.inventorytype}}</h2>

  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_guests' pk=inventory.pk %}">Guests</a>
    </li>
    <li class="active">
      <a href="{% url 'inventory_detail_contractors' pk=inventory.pk %}">Contractors</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_employees' pk=inventory.pk %}">Employees</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_administration' pk=inventory.pk %}">Administration</a>
    </li>
  </ul>

  <div class="container">
    <div class="row">
      <div class="column">

        <p>
          <a href="{% url 'contractor_new' est_pk=inventory.pk %}" class="btn btn-primary">Add Contractor</a>
        </p>

        <form class="navbar-form" role="search">
          <div class="input-group add-on">
            <input class="form-control" placeholder="Search" name="srch-term-contractor" id="srch-term-contractor" type="text">
            <div class="input-group-btn">
              <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
          </div>
        </form>

        <table  class="table table-condensed table-bordered table-striped">
          <thead>
            <tr>
              <th>Contractors</th>
            </tr>
          <tbody>
          </thead>
              <tr>
                {% for contractor in contractors%}
                <tr>
                <td>
                <table class="table-condensed" border="1">
                  {% if contractor.flagstatus %}
                  <td style="width:5%"><span class="glyphicon glyphicon-remove"></td>
                  {% else %}
                  <td style="width:5%"><span class="glyphicon glyphicon-ok"></td>
                  {% endif %}

                <td style="width:50%">{{contractor.show_name}}</td>
                <td style="width:5%"><a href="{% url 'contractor_flag' pk=contractor.pk est_pk=inventory.pk %}"<button type="button" class="btn btn-danger btn-xs">flag</button></a></td>
                <td style="width:5%"><a href="{% url 'contractor_edit' pk=contractor.pk est_pk=inventory.pk %}" class="btn btn-success btn-xs" role="button">edit</a></td>
              </tr>
            </table>
            </tr>
            </td>
            {% endfor %}
          </tbody>
        </table>

        <div class="pagination">
            <span class="step-links">
                {% if contractors.has_previous %}
                    <a href="?pagec={{ contractors.previous_page_number }}">previous</a>
                {% endif %}

                <span class="current">
                    Page {{ contractors.number }} of {{ contractors.paginator.num_pages }}.
                </span>

                {% if contractors.has_next %}
                    <a href="?pagec={{ contractors.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>

      </div>

{% endblock %}
