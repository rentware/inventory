{% extends 'base/base.html' %}

{% block content %}

{% load staticfiles %}

<link rel="stylesheet" href="{% static 'css/base.css' %}"></link>


<style>

    .nav-pills > li.active > a, .nav-pills > li.active > a:focus {
        color: black;
        background-color: #00ffff;
    }

        .nav-pills > li.active > a:hover {
            background-color: #00bfff;
            color:black;
        }

</style>


<div class="container">

  <div class="row" >
    <div class="col-sm-1"></div>

  <h2>inventory: {{inventory.show_name}} {{inventory.inventorytype}}</h2>

  {% if messages %}
  <ul class="messages">
      {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
  {% endif %}


  <ul class="nav nav-pills">
    <li class="active"><a href="{% url 'inventory_detail_guests' pk=inventory.pk %}">Guests</a></li>
  <!--  <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_contractors' pk=inventory.pk %}">Contractors</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="{% url 'inventory_detail_employees' pk=inventory.pk %}">Employees</a>
    </li>
  -->

   <li><a href="{% url 'inventory_detail_administration' pk=inventory.pk %}">Administration</a></li>
  </ul>

  <div class="container">
    <div class="row">
      <div class="column">

        <p>
          <a href="{% url 'guest_new' est_pk=inventory.pk %}" class="btn btn-primary">Add Guest</a>
        </p>

        <form class="navbar-form" role="search">
          <div class="input-group add-on">
            <input class="form-control" placeholder="Search" name="srch-term-guest" id="srch-term-guest" type="text">
            <div class="input-group-btn">
              <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
          </div>
        </form>

        <table  class="table table-condensed table-bordered table-striped">
          <thead>
            <tr>
              <th>Guests</th>
            </tr>
          <tbody>
          </thead>
              <tr>
                {% for guest in guests%}
                <tr>
                <td>
                <table class="table-condensed" border="1">
                  {% if guest.flagstatus %}
                  <td style="width:1%"><span class="glyphicon glyphicon-remove"></td>
                  {% else %}
                  <td style="width:1%"><span class="glyphicon glyphicon-ok"></td>
                  {% endif %}

                <td style="width:10%"><b>{{guest.show_name}}</b> {{guest.firstname}} {{guest.surname}}</td>
                <td style="width:5%">{{guest.cellPhoneNumber}}</td>
                <td style="width:5%">{{guest.emailAddress}}</td>
                <td style="width:5%">{{guest.created_date|date:"d - M - Y"}}</td>

                <td style="width:1%"><a href="{% url 'guest_visit_list' guest_pk=guest.pk est_pk=inventory.pk %}"<button type="button" class="btn btn-default btn-xs">Visits</button></a></td>

                <td style="width:1%"><a href="{% url 'guest_upload_list' guest_pk=guest.pk est_pk=inventory.pk %}"<button type="button" class="btn btn-info btn-xs">Uploaded</button></a></td>
                <td style="width:1%"><a href="{% url 'guest_edit' pk=guest.pk est_pk=inventory.pk %}" class="btn btn-success btn-xs" role="button">edit</a></td>
              </tr>
            </table>
            </tr>
            </td>
            {% endfor %}
          </tbody>
        </table>


        <div class="pagination">
            <span class="step-links">
                {% if guests.has_previous %}
                    <a href="?page={{ guests.previous_page_number }}">previous</a>
                {% endif %}

                <span class="current">
                    Page {{ guests.number }} of {{ guests.paginator.num_pages }}.
                </span>

                {% if guests.has_next %}
                    <a href="?page={{ guests.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>

      </div>

{% endblock %}
